<div class="fixed inset-0 bg-black bg-opacity-70 z-40" (click)="closePopup()">
</div>

<div aria-labelledby="login-title" aria-modal="true" role="dialog"
    class="fixed inset-0 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl w-[360px] max-w-full p-6 relative font-sans" (click)="$event.stopPropagation()">
        <button aria-label="Close login modal"
            class="absolute top-4 right-4 text-black text-xl leading-none focus:outline-none" type="button"
            (click)="closePopup()">
            <i class="fas fa-times"></i>
        </button>
        <h2 class="font-semibold text-gray-900 text-lg mb-5 select-none" id="login-title">
            Log in to Talent
        </h2>
        <button
            class="w-full border border-gray-300 rounded-md py-2 mb-3 flex items-center justify-center gap-2 text-xs text-gray-900 font-semibold hover:bg-gray-50"
            type="button">
            <img alt="Facebook logo blue circle with white letter F" class="w-4 h-4" height="16"
                src="https://storage.googleapis.com/a1aa/image/9a279122-cb15-4345-6a09-fe56b9d79dc6.jpg" width="16" />
            Log in with Facebook
        </button>
        <button
            class="w-full border border-gray-300 rounded-md py-2 mb-3 flex items-center justify-center gap-2 text-xs text-gray-900 font-semibold hover:bg-gray-50"
            type="button">
            <img alt="Google logo letter G multi-color" class="w-4 h-4" height="16"
                src="https://storage.googleapis.com/a1aa/image/ee648407-4543-4b3f-2bd9-33dddc38e13b.jpg" width="16" />
            Log in with Google
        </button>
        <button
            class="w-full border border-gray-300 rounded-md py-2 mb-6 flex items-center justify-center gap-2 text-xs text-gray-900 font-semibold hover:bg-gray-50"
            type="button">
            <img alt="Apple logo black apple icon" class="w-4 h-4" height="16"
                src="https://storage.googleapis.com/a1aa/image/d578279a-7402-437e-2153-501aebafa37b.jpg" width="16" />
            Log in with Apple
        </button>
        <div class="flex items-center mb-6">
            <div class="flex-grow border-t border-gray-300"></div>
            <span class="mx-3 text-xs text-gray-400 select-none">OR</span>
            <div class="flex-grow border-t border-gray-300"></div>
        </div>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <input
                class="w-full border border-gray-300 rounded-md py-2 px-3 mb-3 text-xs text-gray-400 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="you@email.com" type="email" formControlName="email" />
            <div *ngIf="emailControl?.invalid && (emailControl?.dirty || emailControl?.touched)"
                class="text-red-500 text-xs mb-2">
                <div *ngIf="emailControl?.errors?.['required']">Email là bắt buộc.</div>
                <div *ngIf="emailControl?.errors?.['email'] || emailControl?.errors?.['pattern']">Email không đúng định
                    dạng.</div>
            </div>
            <input
                class="w-full border border-gray-300 rounded-md py-2 px-3 mb-2 text-xs text-gray-400 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-cyan-400 focus:border-cyan-400"
                placeholder="Mật khẩu" type="password" formControlName="password" />
            <div *ngIf="passwordControl?.invalid && (passwordControl?.dirty || passwordControl?.touched)"
                class="text-red-500 text-xs mb-2">
                <div *ngIf="passwordControl?.errors?.['required']">Mật khẩu là bắt buộc.</div>
                <div *ngIf="passwordControl?.errors?.['minlength']">Mật khẩu phải có ít nhất 8 ký tự.</div>
            </div>
            <div class="mb-5 text-xs text-black underline cursor-pointer select-none">
                Quên mật khẩu?
            </div>
            <button class="w-full bg-cyan-400 hover:bg-cyan-500 text-black font-semibold text-xs rounded-md py-2 mb-4"
                type="submit" [disabled]="loginForm.invalid || isLoading">
                <span *ngIf="!isLoading">Đăng nhập</span>
                <span *ngIf="isLoading">Đang đăng nhập...</span>
            </button>
        </form>
        <p class="text-center text-xs text-black select-none">
            Don’t have an account?
            <a class="underline" [routerLink]="">Join Talent.</a>
        </p>
    </div>
</div>